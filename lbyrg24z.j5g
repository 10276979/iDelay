<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>iDelay</title>
    <style type="text/css">
        body, div, span { margin: 0; padding: 0; }
    </style>
</head>
<body style="height:5000px;">
    <div class="iDelay">
        <div>
            <img src="res/img/001.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/002.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/003.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/004.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/005.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/006.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/007.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/008.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/009.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/010.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/011.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/012.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/013.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/014.jpg" width="100%" />
        </div>
        <div>
            <img src="res/img/015.jpg" width="100%" />
        </div>
    </div>


    <script type="text/javascript">
        ; (function (win, doc) {
            "use strict";

            win.iDelay = function () {
                var i = this;

                // 返回浏览器的可视区域位置
                i.getClient = function () {
                    var l, t, w, h;
                    l = doc.documentElement.scrollLeft || doc.body.scrollLeft;
                    t = doc.documentElement.scrollTop || doc.body.scrollTop;
                    w = doc.documentElement.clientWidth;
                    h = doc.documentElement.clientHeight;
                    return { left: l, top: t, width: w, height: h };
                };

                // 返回待加载资源位置
                i.getSubClient = function (p) {
                    var l = 0, t = 0, w, h;
                    w = p.offsetWidth;
                    h = p.offsetHeight;
                    while (p.offsetParent) {
                        l += p.offsetLeft;
                        t += p.offsetTop;
                        p = p.offsetParent;
                    }
                    return { left: l, top: t, width: w, height: h };
                }


            };


        })(window, document);

        var i = new iDelay();

        console.log(i.getClient());

    </script>

</body>
</html>
